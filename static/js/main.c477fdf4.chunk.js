(this["webpackJsonpwoven-images"]=this["webpackJsonpwoven-images"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var a,r,i,s,c=n(1),l=n.n(c),o=n(50),d=n.n(o),u=(n(55),n(56),n(3)),T=(n(57),n(0)),h=function(e){var t=Object(c.useRef)(null),n=l.a.useRef(null);return Object(c.useEffect)((function(){if(t.current){n.current=t.current.getContext("2d");var a=n.current;if(a.clearRect(0,0,t.current.width,t.current.height),e.drawingInstructions.forEach((function(e){a&&(a.beginPath(),e(a),a.fill())})),a){var r=a.createPattern(t.current,"repeat");null===r||void 0===r||r.setTransform((new DOMMatrix).scaleSelf(1/e.repetitions,1/e.repetitions,0,0)),r&&(a.fillStyle=r,a.fillRect(0,0,t.current.width,t.current.height))}}}),[e]),Object(T.jsx)("canvas",{className:"Canvas",width:e.dimensions.x,height:e.dimensions.y,ref:t})},E=(n(59),function(e){var t={gridRow:e.row+1,gridColumn:e.col+1};return e.thread&&(t.backgroundColor=e.thread.dataSource.color,console.log(t)),Object(T.jsx)("div",{className:"button "+(e.value?"isActive":""),style:t,onClick:e.onClickHandler})}),S=(n(32),function(e){var t=function(t){e.onClickHandler(t,e.subGridType)},n=e.gridValues.map((function(n,a){return n.map((function(n,r){return Object(T.jsx)(E,{value:n,row:a,col:r,cellSize:e.cellSize,onClickHandler:t})}))}));return Object(T.jsx)("div",{className:"ButtonGrid",style:{gridTemplateRows:"repeat(1fr, ".concat(e.gridValues.length,")"),gridTemplateColumns:"repeat(1fr, ".concat(e.gridValues[0].length,")"),width:"".concat(e.gridValues[0].length*e.cellSize,"px"),height:"".concat(e.gridValues.length*e.cellSize,"px")},children:n})});!function(e){e[e.WARPTHREADTABLE=0]="WARPTHREADTABLE",e[e.WEFTTHREADTABLE=1]="WEFTTHREADTABLE",e[e.TIEUPTABLE=2]="TIEUPTABLE",e[e.HARNESSTOTHREADTABLE=3]="HARNESSTOTHREADTABLE",e[e.TREADLINGTABLE=4]="TREADLINGTABLE"}(a||(a={})),function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(r||(r={})),function(e){e[e.SET_WARPCOUNT=0]="SET_WARPCOUNT",e[e.SET_WEFTCOUNT=1]="SET_WEFTCOUNT",e[e.SET_TREADLECOUNT=2]="SET_TREADLECOUNT",e[e.SET_HARNESSCOUNT=3]="SET_HARNESSCOUNT"}(i||(i={})),function(e){e[e.SET_HARNESSTOTHREADATTACHMENTS=0]="SET_HARNESSTOTHREADATTACHMENTS",e[e.SET_TREADLETOHARNESSATTACHMENTS=1]="SET_TREADLETOHARNESSATTACHMENTS",e[e.SET_TREADLINGINSTRUCTION=2]="SET_TREADLINGINSTRUCTION",e[e.SET_HARNESSCOUNT=3]="SET_HARNESSCOUNT",e[e.SET_TREADLECOUNT=4]="SET_TREADLECOUNT",e[e.SET_WEFTCOUNT=5]="SET_WEFTCOUNT",e[e.SET_WARPCOUNT=6]="SET_WARPCOUNT",e[e.SET_CELLSIZE=7]="SET_CELLSIZE",e[e.SET_STATE=8]="SET_STATE",e[e.SET_WARPTHREADDATASOURCE=9]="SET_WARPTHREADDATASOURCE",e[e.SET_WEFTTHREADDATASOURCE=10]="SET_WEFTTHREADDATASOURCE",e[e.SET_SELECTEDTHREADDATASOURCEINDEX=11]="SET_SELECTEDTHREADDATASOURCEINDEX",e[e.SET_SELECTEDTHREADDATASOURCE=12]="SET_SELECTEDTHREADDATASOURCE",e[e.SET_SCALAR=13]="SET_SCALAR",e[e.ADD_THREADDATASOURCE=14]="ADD_THREADDATASOURCE",e[e.OVERWRITE_SAVE=15]="OVERWRITE_SAVE"}(s||(s={}));var x=n(6),A=n(19),f="#FFFFFF",C="#000000",p={id:0,dataSource:{color:f}},O={id:0,dataSource:{color:C}};var g=function(){return{threads:new Set}},m=function(){return{harnesses:new Set}},j=function(e,t){return{id:e,dataSource:{color:t}}};function R(e){var t=e.data,n=t.threading,a=t.tieup,r=t.treadling,i=function(e){var t=/(\d+)/g,n=e.match(t);return n?n.map((function(e){return parseInt(e)})):[]}(a);return console.log(Math.max.apply(Math,Object(x.a)(i))),{warpCount:n.split(",").length,weftCount:b(r).split(",").length,treadleCount:a.split(",").length,harnessCount:Math.max.apply(Math,Object(x.a)(i)),cellSize:12}}function b(e){var t=e.replaceAll(/(\d+)x(\d+)/g,(function(e,t,n){return(t+",").repeat(n)}));return(t=t.replaceAll(/,,/g,",")).endsWith(",")&&(t=t.substring(0,t.length-1)),t}function D(e){return{color:e}}function N(e){var t,n,a,r;return{dimensions:e,harnesses:(r=e.harnessCount,new Array(r).fill(g()).map((function(e){return g()}))),warpThreads:(a=e.warpCount,new Array(a).fill(p).map((function(e,t){return j(t,f)}))),weftThreads:function(e){return new Array(e).fill(O).map((function(e,t){return j(t,C)}))}(e.weftCount),treadles:(n=e.treadleCount,new Array(n).fill(m()).map((function(e){return m()}))),treadlingInstructions:(t=e.weftCount,new Array(t).fill(null)),threadDataSource:{color:"#FFFFFF"},weaveScalar:1,name:"untitled",indexedThreadPalette:A(w)}}var w={threadPalette:[D("#FFFFFF"),D("#000000")],selectedIndex:0};n(131);var v=n(17),I=n(4),L=(n(49),function(e){var t=Object(c.useState)(e.dimensions),n=Object(u.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.dimensions)}),[e.dimensions]);var i=function(e){e.preventDefault(),r(Object(I.a)(Object(I.a)({},a),{},Object(v.a)({},e.target.name,e.target.value)))},s=Object.keys(e.dimensions).map((function(t){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("label",{className:"InputLabel",htmlFor:t,children:(n=t,a=" ",a="undefined"===typeof a?"_":a,n.replace(/([a-z\d])([A-Z])/g,"$1"+a+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+a+"$2").toLowerCase()+" ")}),Object(T.jsx)("input",{className:"InputField",style:{display:"inline"},type:"textfield",name:t,onChange:i,placeholder:e.dimensions[t].toString()}),Object(T.jsx)("p",{className:"CurrentDimension",style:{display:"inline"},children:"\u2192 ".concat(e.dimensions[t])}),Object(T.jsx)("br",{})]});var n,a}));return Object(T.jsxs)("div",{className:"Panel",children:[Object(T.jsx)("h1",{className:"FormHeader",children:"Dimensions Editor"}),Object(T.jsx)("div",{className:"PanelContent",children:Object(T.jsxs)("form",{className:"DimensionsForm",onSubmit:function(t){t.preventDefault(),e.onDimensionsChange(a)},children:[s,Object(T.jsx)("label",{style:{verticalAlign:"top"},htmlFor:"scaleSlider",children:"scale "}),Object(T.jsx)("input",{type:"range",min:"1",max:"8",defaultValue:"1",id:"scaleSlider",onChange:e.weaveDisplayScalarOnChange}),Object(T.jsx)("br",{}),Object(T.jsx)("button",{className:"ApplyBtn",type:"submit",children:"Apply"})]})})]})}),H=[{name:"Basic Twill",data:{threading:"1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4",tieup:"1+4,1+2,2+3,3+4",treadling:"1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4"}},{name:"Periwinkle",data:{threading:"3,2,1,4,3,2,1,4,3,4,3,2,3,2,1,4,3,4,1,2,3,2,3,4,3,4,1,2",tieup:"1+4,1+2,2+3,3+4",treadling:"3,2,1,4x3,3x3,2,1,4x2,1,2,3x3,4x3,1,2,3"}},{name:"Diadem",data:{threading:"4,1,2,3,4,1,2,3,4,1,2,3,2,3,2,1,4,3,4,3,4,1,2,3,2,3,2,1,4,3,2,1,4,3,2,1,4,1",tieup:"1+4,1+2,2+3,3+4",treadling:"3x2,4,1,2,3,4,1,2,3,4,1x4,4,3,2x4,3,4,1x4,4,3,2,1,4,3,2,1,4,3x2"}},{name:"Rings and Chains",data:{threading:"1,2,3,4,1,2,3,4,1,2,3,4,1,4,1,4,3,4,3,2,3,2,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,2,3,2,3,4,3,4,1,4,1,4,3,2,1,4,1,2,3,4",tieup:"1+4,1+2,2+3,3+4",treadling:"1,2,3,4,1x4,4x3,3x3,2x3,1x2,2x2,1x2,2x2,1x2,2x2,1x2,2x2,1x2,2x2,1x2,2x3,3x3,4x3,1x4,4,3,2,1"}},{name:"Wheel of Fortune",data:{threading:"1,2,3,4,1,2,1,2,3,2,3,4,3,4,1,4,3,4,1,4,3,4,3,2,3,2,1,2,1,4,3,2,1,4,3,2,1,4,3,2,3,2,1,2,1,4,1,4,3,4,1,4,3,4,1,4,1,2,1,2,3,2,3,4,1,2,3,4",tieup:"1+4,1+2,2+3,3+4",treadling:"2,3,4,1,2x3,3x3,4x3,1x2,4x2,1x2,4x3,3x3,2x3,1,4,3,2,1,4,3,2,1,4,3x3,2x3,1x3,4x2,1x2,4x2,1x3,2x3,3x3,4,1,2,3,4,1"}},{name:"Chariot Wheel No. 3",data:{threading:"4,3,2,1,4,3,2,3,4,3,2,3,4,1,4,1,4,1,2,1,2,1,4,1,2,1,4,1,2,1,2,1,4,1,4,1,4,3,2,3,4,3,2,3,4,1,2,3",tieup:"1+4,1+2,2+3,3+4",treadling:"4,3,2,1,4,3x2,4x2,3x2,4,1x5,2x4,1x2,2x2,1x2,2x4,1x5,4,3x2,4x2,3x2,4,1,2,3,4"}},{name:"Chariot Wheel No. 3 Alt",data:{threading:"4,3,2,1,4,3,2,3,4,3,2,3,4,1,4,1,4,1,2,1,2,1,4,1,2,1,4,1,2,1,2,1,4,1,4,1,4,3,2,3,4,3,2,3,4,1,2,3",tieup:"1+4,1+2,2+3,3+4",treadling:"3,4,1,2,3,4x2,3x2,4x2,3,2x5,1x4,2x2,1x2,2x2,1x4,2x5,3,4x2,3x2,4x2,3,2,1,4,3"}},{name:"Church Windows",data:{threading:"3,2,1,4,3,4,3,4,1,4,1,2,1,4,1,4,3,4,3,4,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,4,3,4,3,4,1,4,1,2,1,4,1,4,3,4,3,4,2,1",tieup:"1+4,1+2,2+3,3+4",treadling:"3,2,1,4x4,1x3,2x2,1x3,4x4,1,2,3x2,2x2,3x2,2x2,3x2,2x2,3x2,2x2,3x2,2x2,3x2,2,1,4x4,1x3,2x2,1x3,4x4,1,2,3"}},{name:"Cambridge Beauty",data:{threading:"2,3,4,1,4,1,4,1,4,3,4,3,4,3,2,3,2,3,2,1,2,1,2,1,2,3,4,3,2,1,2,3,4,3,2,1,2,3,4,3,2,1,2,3,4,3,2,1,2,1,2,1,2,3,2,3,2,3,4,3,4,3,4,1,4,1,4,1,4,3",tieup:"1+4,1+2,2+3,3+4",treadling:"3,4,1x6,4x5,3x5,2x6,3,4x2,3,2x2,3,4x2,3,2x2,3,4x2,3,2x2,3,4x2,3,2x2,3,4x2,3,2x6,3x5,4x5,1x6,4,3"}},{name:"Star of Bethlehem",data:{threading:"2,3,4,1,2,3,4,1,2,3,4,1,2,1,2,3,2,3,4,3,4,1,4,1,2,3,4,1,4,3,2,1,4,1,4,3,4,3,2,3,2,1,2,1,4,3,2,1",tieup:"1+4,1+2,2+3,3+4",treadling:"2,3,4,1,2,3,4,1,2,3,4,1,2x3,3x3,4x3,1x3,1,2,3,4,1x2,4,3,2,1x3,4x3,3x3,2x3,1,4,3,2"}},{name:"Maltese Cross",data:{threading:"1,2,3,4,1,2,3,4,1,2,3,4,1,2,1,4,1,4,3,4,3,2,3,2,1,2,1,4,1,2,1,4,1,2,1,2,3,2,3,4,3,4,1,4,1,2,1,4,3,2",tieup:"1+4,1+2,2+3,3+4",treadling:"2,1,4,3,2,1,4,3,2x2,3x3,4x3,1x3,2x3,3x2,2x2,3x2,2x3,1x3,4x3,3x3,2x2,3,4,1,2"}}],_=(n(132),function(e){var t,n,a=Object(c.useState)([]),r=Object(u.a)(a,2),i=r[0],s=r[1],l=function(t,n){return Object(T.jsxs)("li",{id:"saveFile-"+n.toString(),className:"FileListItem",children:[Object(T.jsx)("span",{className:"FileName",children:t.name}),Object(T.jsx)("button",{className:"OverwriteBtn",onClick:o,children:"Overwrite"}),Object(T.jsx)("button",{className:"LoadBtn",onClick:function(){return e.onLoadSave(t)},children:"Load"})]})},o=function(t){var n=t.target.id.split("-")[1],a=Object(x.a)(i);a[n]=e.currentState,s(a)};return Object(T.jsxs)("div",{className:"Panel",children:[Object(T.jsx)("h1",{className:"FormHeader",children:"Save+Load File"}),Object(T.jsx)("div",{className:"SaveLoadContainer",children:Object(T.jsxs)("div",{className:"PanelContent",children:[Object(T.jsxs)("ol",{children:[(n=i,n.map((function(e,t){return l(e,t)}))),(t=H,t.map((function(e){return function(e){var t=N(R(e)),n=e.data,a=n.threading,r=n.tieup,i=n.treadling;return a.split(",").map((function(e){return parseInt(e)})).forEach((function(e,n){t.harnesses[e-1].threads.add(t.warpThreads[n])})),r.split(",").map((function(e){return e.split("+").map((function(e){return parseInt(e)}))})).forEach((function(e,n){e.forEach((function(e){var a=t.harnesses.length-1-(e-1);t.treadles[n].harnesses.add(t.harnesses[a])}))})),b(i).split(",").map((function(e){return parseInt(e)})).forEach((function(e,n){t.treadlingInstructions[n]=t.treadles[e-1]})),t.name=e.name,t}(e)})).map((function(e,t){return l(e,t+i.length)})))]}),Object(T.jsx)("button",{className:"SaveBtn",onClick:function(){s([].concat(Object(x.a)(i),[e.currentState]))},children:"New save"})]})})]})}),y=(n(133),n(19),function(e){var t=Object(c.useState)(D("000000")),n=Object(u.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!0),s=Object(u.a)(i,2),l=s[0],o=s[1],d=e.indexedThreadPalette.threadPalette.map((function(t,n){var a="Thread"+(n==e.indexedThreadPalette.selectedIndex?" selected":"");return Object(T.jsx)("div",{className:a,id:"thread-"+n.toString(),style:{backgroundColor:t.color},onClick:function(t){e.onSelectThreadDataSource(t.target.id.split("-")[1])}})}));return Object(T.jsxs)("div",{className:"ThreadEditorContainer Panel",children:[Object(T.jsx)("h1",{children:"Thread Palette"}),Object(T.jsxs)("div",{className:"PanelContent",children:[Object(T.jsxs)("div",{className:"ThreadContainer",children:[d,Object(T.jsx)("button",{className:"AddThreadButton",onClick:function(t){e.onAddThreadDataSource(a)},children:"+"})]}),Object(T.jsx)("div",{className:"ThreadAttributeDesigner",children:Object(T.jsx)("input",{className:"ColorPicker",type:"color",id:"ColorPicker",onChange:function(t){if(!l){var n=Object(I.a)(Object(I.a)({},e.indexedThreadPalette.threadPalette[e.indexedThreadPalette.selectedIndex]),{},{color:t.target.value});e.onSetThreadDataSource(n)}r(Object(I.a)(Object(I.a)({},a),{},{color:t.target.value}))}})}),Object(T.jsx)("button",{className:"LockBtn",onClick:function(){o(!l)},children:l?"Unlock Palette":"Lock Palette"})]})]})}),P=function(e){var t=function(t){e.onClickHandler(t,e.subGridType)},n=e.gridValues.map((function(n,a){return Object(T.jsx)(E,{styleDataSource:n.dataSource,col:e.orientation===r.HORIZONTAL?a:0,row:e.orientation===r.VERTICAL?a:0,cellSize:{width:e.cellSize.width,height:e.cellSize.height},onClickHandler:t,thread:e.gridValues[a]})}));return Object(T.jsx)("div",{className:"ButtonGrid",style:{gridTemplateColumns:"repeat(1fr, ".concat(e.orientation===r.VERTICAL?e.gridValues.length:1,")"),gridTemplateRows:"repeat(1fr, ".concat(e.orientation===r.HORIZONTAL?e.gridValues.length:1,")"),width:"".concat((e.orientation===r.HORIZONTAL?e.gridValues.length:1)*e.cellSize.width,"px"),height:"".concat((e.orientation===r.VERTICAL?e.gridValues.length:1)*e.cellSize.height,"px")},children:n})},U=n(19);function F(e,t){var n=U(e);switch(t.type){case s.SET_HARNESSTOTHREADATTACHMENTS:var a=n.harnesses[t.harnessID],r=n.warpThreads[t.threadID];if(a.threads.has(r))a.threads.delete(r);else{for(var i=0;i<n.harnesses.length;i++)n.harnesses[i].threads.has(r)&&n.harnesses[i].threads.delete(r);a.threads.add(r)}break;case s.SET_TREADLETOHARNESSATTACHMENTS:var c=n.treadles[t.treadleID],l=n.harnesses[t.harnessID];c.harnesses.has(l)?c.harnesses.delete(l):c.harnesses.add(l);break;case s.SET_TREADLINGINSTRUCTION:var o=n.treadles[t.treadleID];n.treadlingInstructions[t.instructionIndex]===o?n.treadlingInstructions[t.instructionIndex]=null:n.treadlingInstructions[t.instructionIndex]=o;break;case s.SET_HARNESSCOUNT:if(t.harnessCount>n.harnesses.length)for(;n.harnesses.length<t.harnessCount;)n.harnesses.unshift(g());else{var d=n.harnesses.splice(0,n.harnesses.length-t.harnessCount);n.treadles.forEach((function(e){d.forEach((function(t){e.harnesses.delete(t)}))}))}n.dimensions.harnessCount=t.harnessCount;break;case s.SET_TREADLECOUNT:if(t.treadleCount>n.treadles.length)for(;n.treadles.length<t.treadleCount;)n.treadles.push(m());else{var u=n.treadles.splice(t.treadleCount);n.treadlingInstructions.forEach((function(e){u.forEach((function(t){e=e===t?null:e}))}))}n.dimensions.treadleCount=t.treadleCount;break;case s.SET_WARPCOUNT:if(t.warpCount>e.warpThreads.length)for(;n.warpThreads.length<t.warpCount;)n.warpThreads.unshift(j(n.warpThreads.length,f));else n.warpThreads.splice(0,n.warpThreads.length-t.warpCount);n.warpThreads.forEach((function(e,t){e.id=t})),n.dimensions.warpCount=t.warpCount;break;case s.SET_WEFTCOUNT:if(t.weftCount>e.weftThreads.length)for(;n.weftThreads.length<t.weftCount;)n.weftThreads.push(j(n.weftThreads.length,C)),n.treadlingInstructions.push(null);else n.weftThreads.splice(t.weftCount),n.treadlingInstructions.splice(t.weftCount);n.dimensions.weftCount=t.weftCount;break;case s.SET_CELLSIZE:n.dimensions.cellSize=t.cellSize;break;case s.SET_STATE:var T=t.state;return t.state.weaveScalar=n.weaveScalar,T;case s.SET_WARPTHREADDATASOURCE:n.warpThreads[t.warpThreadID].dataSource=n.indexedThreadPalette.threadPalette[n.indexedThreadPalette.selectedIndex];break;case s.SET_WEFTTHREADDATASOURCE:n.weftThreads[t.weftThreadID].dataSource=n.indexedThreadPalette.threadPalette[n.indexedThreadPalette.selectedIndex];break;case s.SET_SELECTEDTHREADDATASOURCE:n.indexedThreadPalette.threadPalette[n.indexedThreadPalette.selectedIndex]=t.dataSource;break;case s.SET_SCALAR:n.weaveScalar=t.scalar;break;case s.ADD_THREADDATASOURCE:n.indexedThreadPalette.threadPalette.push(U(t.dataSource));break;case s.SET_SELECTEDTHREADDATASOURCEINDEX:n.indexedThreadPalette.selectedIndex=t.dataSourceIndex}return n}var k=N({harnessCount:4,treadleCount:4,warpCount:16,weftCount:16,cellSize:16}),W=function(){var e,t,n,i,l=Object(c.useReducer)(F,k),o=Object(u.a)(l,2),d=o[0],E=o[1],x=function(e,t){var n=e.target,r=parseInt(n.style.gridRow)-1,i=parseInt(n.style.gridColumn)-1;switch(t){case a.HARNESSTOTHREADTABLE:E({type:s.SET_HARNESSTOTHREADATTACHMENTS,harnessID:r,threadID:i});break;case a.TIEUPTABLE:E({type:s.SET_TREADLETOHARNESSATTACHMENTS,treadleID:i,harnessID:r});break;case a.TREADLINGTABLE:E({type:s.SET_TREADLINGINSTRUCTION,treadleID:i,instructionIndex:r});break;case a.WEFTTHREADTABLE:E({type:s.SET_WEFTTHREADDATASOURCE,weftThreadID:r});break;case a.WARPTHREADTABLE:E({type:s.SET_WARPTHREADDATASOURCE,warpThreadID:i})}};return Object(T.jsxs)("div",{className:"LoomEditorContainer",children:[Object(T.jsx)("div",{className:"LoomPane",children:Object(T.jsxs)("div",{className:"LoomContainer",children:[Object(T.jsx)(P,{subGridType:a.WARPTHREADTABLE,cellSize:{width:d.dimensions.cellSize,height:d.dimensions.cellSize/2},gridValues:d.warpThreads,orientation:r.HORIZONTAL,onClickHandler:x}),Object(T.jsx)("span",{className:"void",children:"\xa0"}),Object(T.jsx)("span",{className:"void",children:"\xa0"}),Object(T.jsx)(S,{subGridType:a.HARNESSTOTHREADTABLE,cellSize:d.dimensions.cellSize,gridValues:(n=d.warpThreads,i=d.harnesses,new Array(i.length).fill(new Array).map((function(e,t){return new Array(n.length).fill(!1).map((function(e,a){return i[t].threads.has(n[a])}))}))),onClickHandler:x}),Object(T.jsx)(S,{subGridType:a.TIEUPTABLE,cellSize:d.dimensions.cellSize,gridValues:function(e,t){return new Array(e.length).fill(new Array).map((function(n,a){return new Array(t.length).fill(!1).map((function(n,r){return t[r].harnesses.has(e[a])}))}))}(d.harnesses,d.treadles),onClickHandler:x}),Object(T.jsx)("span",{className:"void",children:"\xa0"}),Object(T.jsx)(h,{repetitions:d.weaveScalar,dimensions:{x:d.dimensions.warpCount*d.dimensions.cellSize,y:d.dimensions.weftCount*d.dimensions.cellSize},drawingInstructions:function(e){var t=[],n=e.dimensions.cellSize;return e.weftThreads.forEach((function(a,r){var i,s,c,l;t.push((i=r*n,s=e.warpThreads.length*n,c=n,l=a.dataSource.color,function(e){e.rect(0,i,s,c),e.fillStyle=l}))})),e.treadlingInstructions.forEach((function(e,a){e&&e.harnesses.forEach((function(e){e.threads.forEach((function(e){t.push(function(e,t,n,a){return function(r){r.rect(e,t,n,n),r.fillStyle=a}}(e.id*n,a*n,n,e.dataSource.color))}))}))})),t}(d)}),Object(T.jsx)(S,{subGridType:a.TREADLINGTABLE,cellSize:d.dimensions.cellSize,gridValues:(e=d.treadles,t=d.treadlingInstructions,new Array(t.length).fill(new Array).map((function(n,a){return new Array(e.length).fill(!1).map((function(n,r){return t[a]===e[r]}))}))),onClickHandler:x}),Object(T.jsx)(P,{subGridType:a.WEFTTHREADTABLE,cellSize:{width:d.dimensions.cellSize/2,height:d.dimensions.cellSize},gridValues:d.weftThreads,orientation:r.VERTICAL,onClickHandler:x})]})}),Object(T.jsxs)("div",{className:"EditorPanes",children:[Object(T.jsx)(L,{dimensions:d.dimensions,weaveDisplayScalarOnChange:function(e){console.log(e),e.preventDefault();var t=parseInt(e.target.value);E({type:s.SET_SCALAR,scalar:t})},onDimensionsChange:function(e){E({type:s.SET_HARNESSCOUNT,harnessCount:e.harnessCount}),E({type:s.SET_TREADLECOUNT,treadleCount:e.treadleCount}),E({type:s.SET_WARPCOUNT,warpCount:e.warpCount}),E({type:s.SET_WEFTCOUNT,weftCount:e.weftCount}),E({type:s.SET_CELLSIZE,cellSize:e.cellSize})}}),Object(T.jsx)(y,{onSelectThreadDataSource:function(e){E({type:s.SET_SELECTEDTHREADDATASOURCEINDEX,dataSourceIndex:e})},onSetThreadDataSource:function(e){E({type:s.SET_SELECTEDTHREADDATASOURCE,dataSource:e})},onAddThreadDataSource:function(e){E({type:s.ADD_THREADDATASOURCE,dataSource:e})},indexedThreadPalette:d.indexedThreadPalette}),Object(T.jsx)(_,{currentState:d,onLoadSave:function(e){E({type:s.SET_STATE,state:e})}})]})]})},B=function(){return Object(T.jsx)("div",{className:"Container",children:Object(T.jsx)(W,{})})};n(134),n(135),n(136);var z=function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(B,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};d.a.render(Object(T.jsx)(l.a.StrictMode,{children:Object(T.jsx)(z,{})}),document.getElementById("root")),V()},32:function(e,t,n){},49:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.c477fdf4.chunk.js.map